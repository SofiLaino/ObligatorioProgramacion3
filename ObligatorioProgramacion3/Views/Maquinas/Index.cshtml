@model IEnumerable<ObligatorioProgramacion3.Models.Maquina>

@{
    ViewData["Title"] = "Index"; // Establece el título de la página en "Index"
}

<link rel="stylesheet" href="~/css/maquinas.css" asp-append-version="true" />

<h4 class="display-4 text-center">Máquinas</h4> <!-- Encabezado principal de la página -->

<p>
    <a asp-action="Create" class="btn btn-principal">Agregar</a> <!-- Botón para agregar una nueva máquina -->
</p>

<!-- Formulario de filtros -->
<form asp-action="FilterByDisponibilidad" method="get" class="form-inline justify-content-center mb-4">
    <div class="form-row d-flex align-items-center justify-content-center w-100">
        <div class="form-group col-md-3">
            <label for="disponible" class="mr-2">Filtrar por disponibilidad:</label> <!-- Etiqueta para el filtro de disponibilidad -->
            <select id="disponible" name="disponible" class="form-control custom-select">
                <!-- Dropdown para el filtro de disponibilidad -->
                <option value="">Todos</option>
                <option value="true">Disponible</option>
                <option value="false">No Disponible</option>
            </select>
        </div>
        <div class="form-group col-md-3">
            <label for="tipoMaquinaId" class="mr-2">Filtrar por Tipo de máquina:</label> <!-- Etiqueta para el filtro de tipo de máquina -->
            <select id="tipoMaquinaId" name="tipoMaquinaId" class="form-control custom-select" asp-items="ViewBag.TipoMaquinaId">
                <!-- Dropdown para el filtro de tipo de máquina -->
            </select>
        </div>
        <div class="form-group col-md-3">
            <label for="localAsociadoId" class="mr-2">Filtrar por Local:</label> <!-- Etiqueta para el filtro de local -->
            <select id="localAsociadoId" name="localAsociadoId" class="form-control custom-select" asp-items="ViewBag.LocalAsociadoId">
                <!-- Dropdown para el filtro de local -->
            </select>
        </div>
    </div>
    <div class="form-row d-flex align-items-center justify-content-center w-100 mt-3">
        <div class="form-group col-md-3 text-center">
            <input type="submit" value="Filtrar" class="btn btn-principal" /> <!-- Botón para aplicar los filtros -->
            <a asp-action="Index" asp-route-sortOrder="@ViewBag.DateSortParam" class="btn btn-secondary ml-2">
                <!-- Botón para ordenar -->
                @if (ViewBag.DateSortParam == "date_desc")
                {
                    <span>Ordenar Ascendente</span> <!-- Texto del botón para ordenar ascendentemente -->
                }
                else
                {
                    <span>Ordenar Descendente</span> <!-- Texto del botón para ordenar descendentemente -->
                }
            </a>
        </div>
    </div>
</form>

<!-- Tabla de máquinas -->
<div class="table-container">
    <table class="table table-striped table-dark">
        <thead>
            <tr>
                <th>@Html.DisplayNameFor(model => model.Nombre)</th> <!-- Encabezado de columna para "Nombre" -->
                <th>Local</th> <!-- Encabezado de columna para "Local" -->
                <th>Tipo</th> <!-- Encabezado de columna para "Tipo" -->
                <th>Compra</th> <!-- Encabezado de columna para "Compra" -->
                <th>Precio</th> <!-- Encabezado de columna para "Precio" -->
                <th>Vida Útil</th> <!-- Encabezado de columna para "Vida Útil" -->
                <th>@Html.DisplayNameFor(model => model.Disponible)</th> <!-- Encabezado de columna para "Disponible" -->
                <th></th> <!-- Columna para acciones -->
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Nombre)</td> <!-- Muestra el nombre de la máquina -->
                    <td>@Html.DisplayFor(modelItem => item.LocalAsociado.Nombre)</td> <!-- Muestra el nombre del local asociado -->
                    <td>@Html.DisplayFor(modelItem => item.TipoMaquina.Nombre)</td> <!-- Muestra el tipo de máquina -->
                    <td>@Html.DisplayFor(modelItem => item.FechaCompra)</td> <!-- Muestra la fecha de compra -->
                    <td>@Html.DisplayFor(modelItem => item.PrecioCompra)</td> <!-- Muestra el precio de compra -->
                    <td>@Html.DisplayFor(modelItem => item.VidaUtil)</td> <!-- Muestra la vida útil -->
                    <td>@Html.DisplayFor(modelItem => item.Disponible)</td> <!-- Muestra la disponibilidad -->
                    <td class="action-buttons">
                        <a asp-action="Edit" asp-route-id="@item.Id" class="text-primary">Editar</a> | <!-- Enlace para editar -->
                        <a asp-action="Details" asp-route-id="@item.Id" class="text-primary">Ver</a> | <!-- Enlace para ver detalles -->
                        <a asp-action="Delete" asp-route-id="@item.Id" class="text-primary">Eliminar</a> <!-- Enlace para eliminar -->
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
